#!/usr/bin/env php
<?php

declare(strict_types=1);

require_once __DIR__ . '/../vendor/autoload.php';

$samplesDir = __DIR__ . '/../samples/';

try {
    if (!isset($_SERVER['argv'][1])) {
        throw new InvalidArgumentException('The command must be passed.');
    }

    $filePath = $samplesDir . $_SERVER['argv'][1] . '.php';

    if (!file_exists($filePath)) {
        throw new InvalidArgumentException('The command does not exist.');
    }

    require_once $filePath;
} catch (\Throwable $e) {
    echo $e->getMessage() . PHP_EOL;
}